import{S as te,i as ne,s as $,B as Q,C as g,g as S,E as X,F as Y,q as M,ae as Wt,G as N,L as O,r as Ce,b as P,w as jt,H as W,aa as it,ai as Lt,p as w,l as re,t as I,o as le,N as Ht,u as Rt,T as Ie,a5 as Nt,ab as ct,ac as ht,D as Ft,M as q,J as H,a1 as Ge,ak as Xt,a0 as at,y as me,e as E,m as z,n as L,ad as Je,al as Yt,f as de,a as Z,k as K,V as Ot,X as Jt,Y as Vt,Z as Gt,x as Qt,$ as Zt,h as Kt,j as $t}from"./index-87d85cdd.js";import{B as xt}from"./Button-d1864b92.js";import{B as Dt}from"./BlockLabel-168149fb.js";/* empty css                                                    */import{I as Ve}from"./Image-a9a6a9f4.js";import{C as en,i as tn,U as nn,W as rn}from"./StaticImage.svelte_svelte_type_style_lang-7a44b2a6.js";import{I as ye,C as ln,M as Qe}from"./ModifyUpload-99a64dfc.js";import{C as sn}from"./Copy-8ff05c62.js";import{U as an}from"./Upload-96e87e42.js";import{E as on}from"./Empty-db167e0b.js";import{D as un}from"./Download-4d70238d.js";import"./Blocks-7a5eca09.js";import{U as fn}from"./UploadText-0aebd1de.js";import{E as Er}from"./Image-c3326c55.js";import"./ModifyUpload.svelte_svelte_type_style_lang-ba6baa96.js";function _n(t){let e,n,r;return{c(){e=Q("svg"),n=Q("path"),r=Q("path"),g(n,"d","M28.828 3.172a4.094 4.094 0 0 0-5.656 0L4.05 22.292A6.954 6.954 0 0 0 2 27.242V30h2.756a6.952 6.952 0 0 0 4.95-2.05L28.828 8.829a3.999 3.999 0 0 0 0-5.657zM10.91 18.26l2.829 2.829l-2.122 2.121l-2.828-2.828zm-2.619 8.276A4.966 4.966 0 0 1 4.756 28H4v-.759a4.967 4.967 0 0 1 1.464-3.535l1.91-1.91l2.829 2.828zM27.415 7.414l-12.261 12.26l-2.829-2.828l12.262-12.26a2.047 2.047 0 0 1 2.828 0a2 2 0 0 1 0 2.828z"),g(n,"fill","currentColor"),g(r,"d","M6.5 15a3.5 3.5 0 0 1-2.475-5.974l3.5-3.5a1.502 1.502 0 0 0 0-2.121a1.537 1.537 0 0 0-2.121 0L3.415 5.394L2 3.98l1.99-1.988a3.585 3.585 0 0 1 4.95 0a3.504 3.504 0 0 1 0 4.949L5.439 10.44a1.502 1.502 0 0 0 0 2.121a1.537 1.537 0 0 0 2.122 0l4.024-4.024L13 9.95l-4.025 4.024A3.475 3.475 0 0 1 6.5 15z"),g(r,"fill","currentColor"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 32 32")},m(a,s){S(a,e,s),X(e,n),X(e,r)},p:Y,i:Y,o:Y,d(a){a&&M(e)}}}class cn extends te{constructor(e){super(),ne(this,e,null,_n,$,{})}}function hn(t){let e,n,r,a,s,l,o;return{c(){e=Q("svg"),n=Q("circle"),r=Q("circle"),a=Q("circle"),s=Q("circle"),l=Q("circle"),o=Q("path"),g(n,"cx","10"),g(n,"cy","12"),g(n,"r","2"),g(n,"fill","currentColor"),g(r,"cx","16"),g(r,"cy","9"),g(r,"r","2"),g(r,"fill","currentColor"),g(a,"cx","22"),g(a,"cy","12"),g(a,"r","2"),g(a,"fill","currentColor"),g(s,"cx","23"),g(s,"cy","18"),g(s,"r","2"),g(s,"fill","currentColor"),g(l,"cx","19"),g(l,"cy","23"),g(l,"r","2"),g(l,"fill","currentColor"),g(o,"fill","currentColor"),g(o,"d","M16.54 2A14 14 0 0 0 2 16a4.82 4.82 0 0 0 6.09 4.65l1.12-.31a3 3 0 0 1 3.79 2.9V27a3 3 0 0 0 3 3a14 14 0 0 0 14-14.54A14.05 14.05 0 0 0 16.54 2Zm8.11 22.31A11.93 11.93 0 0 1 16 28a1 1 0 0 1-1-1v-3.76a5 5 0 0 0-5-5a5.07 5.07 0 0 0-1.33.18l-1.12.31A2.82 2.82 0 0 1 4 16A12 12 0 0 1 16.47 4A12.18 12.18 0 0 1 28 15.53a11.89 11.89 0 0 1-3.35 8.79Z"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 32 32")},m(i,_){S(i,e,_),X(e,n),X(e,r),X(e,a),X(e,s),X(e,l),X(e,o)},p:Y,i:Y,o:Y,d(i){i&&M(e)}}}class mn extends te{constructor(e){super(),ne(this,e,null,hn,$,{})}}function gn(t){let e,n;return{c(){e=Q("svg"),n=Q("path"),g(n,"fill","currentColor"),g(n,"d","M7 27h23v2H7zm20.38-16.49l-7.93-7.92a2 2 0 0 0-2.83 0l-14 14a2 2 0 0 0 0 2.83L7.13 24h9.59l10.66-10.66a2 2 0 0 0 0-2.83zM15.89 22H8l-4-4l6.31-6.31l7.93 7.92zm3.76-3.76l-7.92-7.93L18 4l8 7.93z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 32 32")},m(r,a){S(r,e,a),X(e,n)},p:Y,i:Y,o:Y,d(r){r&&M(e)}}}class dn extends te{constructor(e){super(),ne(this,e,null,gn,$,{})}}function bn(t){let e,n;return{c(){e=Q("svg"),n=Q("path"),g(n,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"width","100%"),g(e,"height","100%"),g(e,"viewBox","0 0 24 24"),g(e,"fill","none"),g(e,"stroke","currentColor"),g(e,"stroke-width","1.5"),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round"),g(e,"class","feather feather-edit-2")},m(r,a){S(r,e,a),X(e,n)},p:Y,i:Y,o:Y,d(r){r&&M(e)}}}let mt=class extends te{constructor(e){super(),ne(this,e,null,bn,$,{})}};const qt=t=>{let e=t.currentTarget;const n=e.getBoundingClientRect(),r=e.naturalWidth/n.width,a=e.naturalHeight/n.height;if(r>a){n.width;const o=e.naturalHeight/r,i=(n.height-o)/2;var s=Math.round((t.clientX-n.left)*r),l=Math.round((t.clientY-n.top-i)*r)}else{const o=e.naturalWidth/a;n.height;const i=(n.width-o)/2;var s=Math.round((t.clientX-n.left-i)*a),l=Math.round((t.clientY-n.top)*a)}return s<0||s>=e.naturalWidth||l<0||l>=e.naturalHeight?null:[s,l]};function pn(t){let e,n;return{c(){e=N("img"),O(e.src,n=t[0])||g(e,"src",n),g(e,"alt","")},m(r,a){S(r,e,a),t[4](e)},p(r,[a]){a&1&&!O(e.src,n=r[0])&&g(e,"src",n)},i:Y,o:Y,d(r){r&&M(e),t[4](null)}}}function kn(t,e,n){let{image:r}=e,a;const s=Ce();let l;function o(){l.destroy()}function i(){l&&o(),l=new en(a,{autoCropArea:1,cropend(){const u=l.getCroppedCanvas().toDataURL();s("crop",u)}}),s("crop",r)}function _(u){P[u?"unshift":"push"](()=>{a=u,n(1,a)})}return t.$$set=u=>{"image"in u&&n(0,r=u.image)},[r,a,o,i,_]}class Ut extends te{constructor(e){super(),ne(this,e,kn,pn,$,{image:0,destroy:2,create:3})}get image(){return this.$$.ctx[0]}set image(e){this.$$set({image:e}),Wt()}get destroy(){return this.$$.ctx[2]}get create(){return this.$$.ctx[3]}}class gt{constructor(e,n){this.x=e,this.y=n}}class dt extends gt{update(e){this.x=e.x,this.y=e.y}moveByAngle(e,n){const r=e+Math.PI/2;this.x=this.x+Math.sin(r)*n,this.y=this.y-Math.cos(r)*n}equalsTo(e){return this.x===e.x&&this.y===e.y}getDifferenceTo(e){return new gt(this.x-e.x,this.y-e.y)}getDistanceTo(e){const n=this.getDifferenceTo(e);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}getAngleTo(e){const n=this.getDifferenceTo(e);return Math.atan2(n.y,n.x)}toObject(){return{x:this.x,y:this.y}}}const wn=30;class In{constructor({radius:e=wn,enabled:n=!0,initialPoint:r={x:0,y:0}}={}){this.radius=e,this._isEnabled=n,this.pointer=new dt(r.x,r.y),this.brush=new dt(r.x,r.y),this.angle=0,this.distance=0,this._hasMoved=!1}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}isEnabled(){return this._isEnabled}setRadius(e){this.radius=e}getRadius(){return this.radius}getBrushCoordinates(){return this.brush.toObject()}getPointerCoordinates(){return this.pointer.toObject()}getBrush(){return this.brush}getPointer(){return this.pointer}getAngle(){return this.angle}getDistance(){return this.distance}brushHasMoved(){return this._hasMoved}update(e,{both:n=!1}={}){return this._hasMoved=!1,this.pointer.equalsTo(e)&&!n?!1:(this.pointer.update(e),n?(this._hasMoved=!0,this.brush.update(e),!0):(this._isEnabled?(this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush),this.distance>this.radius&&(this.brush.moveByAngle(this.angle,this.distance-this.radius),this._hasMoved=!0)):(this.distance=0,this.angle=0,this.brush.update(e),this._hasMoved=!0),!0))}}const Pt=jt("#000000");function bt(t,e,n){const r=t.slice();return r[73]=e[n].name,r[74]=e[n].zIndex,r[75]=e,r[76]=n,r}function pt(t){let e,n,r;return{c(){e=N("div"),e.textContent="Start drawing",g(e,"class","start-prompt svelte-172kohl")},m(a,s){S(a,e,s),r=!0},i(a){r||(it(()=>{r&&(n||(n=ct(e,ht,{duration:50},!0)),n.run(1))}),r=!0)},o(a){n||(n=ct(e,ht,{duration:50},!1)),n.run(0),r=!1},d(a){a&&M(e),a&&n&&n.end()}}}function kt(t){let e,n=t[73],r,a;const s=()=>t[33](e,n),l=()=>t[33](null,n);return{c(){e=N("canvas"),g(e,"key",t[73]),Ft(e,"z-index",t[74]),g(e,"class","svelte-172kohl"),q(e,"lr",t[7]),q(e,"tb",!t[7])},m(o,i){S(o,e,i),s(),r||(a=[H(e,"mousedown",t[73]==="interface"?t[9]:void 0),H(e,"mousemove",t[73]==="interface"?t[10]:void 0),H(e,"mouseup",t[73]==="interface"?t[11]:void 0),H(e,"mouseout",t[73]==="interface"?t[11]:void 0),H(e,"mouseout",function(){Ge(t[73]==="interface"?t[34]:void 0)&&(t[73]==="interface"?t[34]:void 0).apply(this,arguments)}),H(e,"blur",t[73]==="interface"?t[11]:void 0),H(e,"touchstart",t[73]==="interface"?t[9]:void 0),H(e,"touchmove",t[73]==="interface"?t[10]:void 0),H(e,"touchend",t[73]==="interface"?t[11]:void 0),H(e,"touchcancel",t[73]==="interface"?t[11]:void 0),H(e,"click",Xt(t[32]))],r=!0)},p(o,i){t=o,n!==t[73]&&(l(),n=t[73],s()),i[0]&128&&q(e,"lr",t[7]),i[0]&128&&q(e,"tb",!t[7])},d(o){o&&M(e),l(),r=!1,at(a)}}}function yn(t){let e,n,r,a,s=t[6]===0&&pt(),l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=kt(bt(t,l,i));return{c(){e=N("div"),s&&s.c(),n=W();for(let i=0;i<o.length;i+=1)o[i].c();g(e,"class","wrap svelte-172kohl"),it(()=>t[36].call(e))},m(i,_){S(i,e,_),s&&s.m(e,null),X(e,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);t[35](e),r=Lt(e,t[36].bind(e)),a=!0},p(i,_){if(i[6]===0?s?_[0]&64&&w(s,1):(s=pt(),s.c(),w(s,1),s.m(e,n)):s&&(re(),I(s,1,1,()=>{s=null}),le()),_[0]&3975){l=i[8];let u;for(u=0;u<l.length;u+=1){const h=bt(i,l,u);o[u]?o[u].p(h,_):(o[u]=kt(h),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},i(i){a||(w(s),a=!0)},o(i){I(s),a=!1},d(i){i&&M(e),s&&s.d(),Ht(o,i),t[35](null),r()}}}let Cn="#aaa";function wt(t,e){return{x:t.x+(e.x-t.x)/2,y:t.y+(e.y-t.y)/2}}function An(t){const e=Sn(t);if(e){const{r:n,g:r,b:a}=e;return(n*299+r*587+a*114)/1e3}return 0}function Sn(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Mn(t){const[e,n,r]=t.match(/\d+/g).map(Number);function a(s){const l=s.toString(16);return l.length===1?`0${l}`:l}return`#${a(e)}${a(n)}${a(r)}`}function vn(t,e,n){let r;const a=Ce();let{value:s}=e,{value_img:l}=e,{mode:o="sketch"}=e,{brush_color:i="#0b0f19"}=e,{brush_radius:_}=e,{source:u}=e,{width:h=400}=e,{height:f=200}=e,{container_height:m=200}=e,{shape:p}=e,C=localStorage.setItem("colorPickerEnable",!1),se=localStorage.setItem("transparentMask",!1),D=0,T=0,J=null,x,ue=h,fe=f,ge;const ie=[{name:"interface",zIndex:15},{name:"drawing",zIndex:11},{name:"temp",zIndex:12},{name:"mask",zIndex:-1},{name:"temp_fake",zIndex:-2}];let B={},b={},V=[],j=[],_e=!0,ce=!0,he=!1,k=!1,F=null,ee=null,be=null,G=0;o==="mask"&&localStorage.getItem("brush_color")&&(i=localStorage.getItem("brush_color"));function pe(){if(!p){b.temp.drawImage(l,0,0,h,f);return}let c=l.naturalWidth,y=l.naturalHeight;const v=p[0]/p[1],A=c/y;let R=0,U=0;v<A?(c=p[1]*A,y=p[1],R=(p[0]-c)/2):v>A?(c=p[0],y=p[0]/A,U=(p[1]-y)/2):(R=0,U=0,c=p[0],y=p[1]),b.temp.drawImage(l,R,U,c,y)}Rt(async()=>{Object.keys(B).forEach(c=>{n(29,b[c]=B[c].getContext("2d"),b)}),await Ie(),l&&(l.addEventListener("load",c=>{u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):pe(),b.drawing.drawImage(B.temp,0,0,h,f),ae()}),setTimeout(()=>{u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):pe(),b.drawing.drawImage(B.temp,0,0,h,f),Ae({lines:j.slice()}),ae()},100)),n(31,F=new In({radius:_*.05,enabled:!0,initialPoint:{x:h/2,y:f/2}})),be=new tn((c,y,...v)=>{He()}),be.observe(ee),Be(),n(27,x=!0),requestAnimationFrame(()=>{ze(),requestAnimationFrame(()=>{we()})})});function ze(){const c=h/2,y=f/2;F.update({x:c,y},{both:!0}),F.update({x:c,y},{both:!1}),_e=!0,ce=!0}Nt(()=>{n(27,x=!1),be.unobserve(ee)});function Le(){Te(),l&&pe(),j.length==0&&a("clear"),n(6,G=j.length),Ae({lines:j}),ae()}function Re(c){Te(),l&&(u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):pe(),(!j||!j.length)&&b.drawing.drawImage(B.temp,0,0,h,f)),Ae({lines:c}),n(6,G=c.length),j.length&&n(30,j=c),j.length==0&&a("clear")}function De(){Re([]),ae()}function Ze(){const c=j.slice(0,-1);Re(c),ae()}let Ae=({lines:c})=>{const y=i;c.forEach(v=>{let{points:A,brush_color:R,brush_radius:U}=v;ve(o==="mask"?{points:A,brush_color:y,brush_radius:U}:{points:A,brush_color:R,brush_radius:U}),o==="mask"&&Xe({points:A,brush_color:y,brush_radius:U}),V=A}),Se(),o==="mask"&&Ye()},Ke=({start:c,end:y,brush_color:v,brush_radius:A})=>{b.temp.beginPath(),b.temp.moveTo(c.x,c.y),b.temp.lineTo(y.x,y.y),n(29,b.temp.strokeStyle=v,b),n(29,b.temp.lineWidth=A,b),b.temp.stroke();const R={points:[c,y],brush_color:v,brush_radius:A};j.push(R),n(6,G+=1),Se()},$e=c=>{c.preventDefault(),window.isDrawing=!0;const{x:y,y:v}=Ne(c);if(!c.touches&&c.button!==0)return;let A=window.drawStraightLine||!1;if((A===!1||j.length===0&&!J)&&(J=null),A){J===null?J={x:y,y:v}:(Ke({start:J,end:{x:y,y:v},brush_color:i,brush_radius:_}),J={x:y,y:v});return}if(C=localStorage.getItem("colorPickerEnable")==="true",C&&o!=="mask"){n(15,i=tt(y,v));const R=Mn(i);Pt.set(R),localStorage.setItem("colorPickerEnable","false");return}k=!0,c.touches&&c.touches.length>0&&F.update({x:y,y:v},{both:!0}),Fe(y,v),n(6,G+=1)},qe=c=>{c.preventDefault(),localStorage.getItem("resetLines")==="true"&&j.length>0?(localStorage.setItem("resetLines","false"),De()):localStorage.setItem("resetLines","false"),localStorage.getItem("fillCanvasBrushColor")==="true"&&(nt(),localStorage.setItem("fillCanvasBrushColor",!1));const{x:y,y:v}=Ne(c);n(1,D=y),n(2,T=v),Fe(y,v),localStorage.setItem("overCanvas","true")},xe=c=>{window.isDrawing=!1,c.preventDefault(),qe(c),he=!1,k=!1,Se(),se=localStorage.getItem("transparentMask")==="true",se&&Le(),o==="mask"&&Ye()},Ue=0,Pe=0,We=0,je=!1,He=async()=>{if(p&&ee){const v=ee?.getBoundingClientRect(),A=p[0]/p[1],R=v.width/v.height;n(7,je=A<R)}if(h===Ue&&f===Pe&&We===m)return;const c={width:h,height:f},y={height:m,width:m*(c.width/c.height)};await Promise.all([ke(B.interface,c,y),ke(B.drawing,c,y),ke(B.temp,c,y),ke(B.temp_fake,c,y),ke(B.mask,c,y,!1)]),_||n(12,_=20*(c.width/y.width)),Be({once:!0}),setTimeout(()=>{Pe=f,Ue=h,We=m},10),await Ie(),we()},ke=async(c,y,v,A=!0)=>{if(!x)return;await Ie();const R=window.devicePixelRatio||1;c.width=y.width*(A?R:1),c.height=y.height*(A?R:1);const U=c.getContext("2d");A&&U.scale(R,R),c.style.width=`${v.width}px`,c.style.height=`${v.height}px`},Ne=c=>{const y=B.interface.getBoundingClientRect();let v=c.clientX,A=c.clientY;return c.changedTouches&&c.changedTouches.length>0&&(v=c.changedTouches[0].clientX,A=c.changedTouches[0].clientY),{x:(v-y.left)/y.width*h,y:(A-y.top)/y.height*f}};function et(){if(C=localStorage.getItem("colorPickerEnable")==="true",C&&o!=="mask")for(const c in B)n(0,B[c].style.cursor="crosshair",B);else for(const c in B)n(0,B[c].style.cursor="none",B)}let Fe=(c,y)=>{if(C=localStorage.getItem("colorPickerEnable")==="true",et(),C&&o!=="mask")return;F.update({x:c,y});const v=!F.isEnabled();(k&&!he||v&&k)&&(he=!0,V.push(F.brush.toObject())),he&&(V.push(F.brush.toObject()),ve({points:V,brush_color:i,brush_radius:_}),o==="mask"&&Xe({points:V,brush_color:i,brush_radius:_})),_e=!0},ve=({points:c,brush_color:y,brush_radius:v})=>{if(!c||c.length<2||(n(29,b.temp.lineJoin="round",b),n(29,b.temp.lineCap="round",b),n(29,b.temp.strokeStyle=y,b),n(29,b.temp.lineWidth=v,b),!c||c.length<2))return;let A=c[0],R=c[1];b.temp.moveTo(R.x,R.y),b.temp.beginPath();for(var U=1,Me=c.length;U<Me;U++){var Ee=wt(A,R);b.temp.quadraticCurveTo(A.x,A.y,Ee.x,Ee.y),A=c[U],R=c[U+1]}b.temp.lineTo(A.x,A.y),b.temp.stroke()},Xe=({points:c,brush_color:y,brush_radius:v})=>{if(!c||c.length<2)return;n(29,b.temp_fake.lineJoin="round",b),n(29,b.temp_fake.lineCap="round",b),n(29,b.temp_fake.strokeStyle="#fff",b),n(29,b.temp_fake.lineWidth=v,b);let A=c[0],R=c[1];b.temp_fake.moveTo(R.x,R.y),b.temp_fake.beginPath();for(var U=1,Me=c.length;U<Me;U++){var Ee=wt(A,R);b.temp_fake.quadraticCurveTo(A.x,A.y,Ee.x,Ee.y),A=c[U],R=c[U+1]}b.temp_fake.lineTo(A.x,A.y),b.temp_fake.stroke()};function tt(c,y){const v=b.drawing.getImageData(c-1,y,1,1),[A,R,U,Me]=v.data;return`rgb(${A}, ${R}, ${U})`}let Ye=()=>{V.length<1||(V.length=0,b.mask.drawImage(B.temp_fake,0,0,h,f),ae())},Se=()=>{V.length<1||(j.push({points:V.slice(),brush_color:i,brush_radius:_}),o!=="mask"&&(V.length=0),b.drawing.drawImage(B.temp,0,0,h,f),ae())},ae=()=>{const c=Oe();a("change",c)};function we(){return n(30,j=[]),Te(),n(6,G=0),!0}function Te(){ce=!0,b.temp.clearRect(0,0,h,f),n(29,b.temp.fillStyle=o==="mask"?"transparent":"#FFFFFF",b),b.temp.fillRect(0,0,h,f),o==="mask"&&(b.temp_fake.clearRect(0,0,B.temp_fake.width,B.temp_fake.height),b.mask.clearRect(0,0,h,f),n(29,b.mask.fillStyle="#000",b),b.mask.fillRect(0,0,h,f))}function nt(){if(o!=="mask"){n(29,b.temp.fillStyle=i,b),b.temp.fillRect(0,0,h,f);var c=0,y=f/2,v=h,A=f/2;b.drawing.beginPath(),b.drawing.moveTo(c,y),b.drawing.lineTo(v,A),n(29,b.drawing.strokeStyle=i,b),n(29,b.drawing.lineWidth=f,b),b.drawing.stroke(),n(30,j=[{points:[{x:c,y},{x:v,y:A}],brush_color:i,brush_radius:f}]),n(6,G=1),Se()}}let Be=({once:c=!1}={})=>{if(_e||ce){const y=F.getPointerCoordinates(),v=F.getBrushCoordinates();rt(b.interface,y,v),_e=!1,ce=!1}c||window.requestAnimationFrame(()=>{Be()})},rt=(c,y,v)=>{c.clearRect(0,0,h,f);let A=v.x,R=v.y;D&&T&&(A=D,R=T),c.beginPath(),c.fillStyle=i;const U=localStorage.getItem("brushOutline")==="true";if(U){const Me=An(i);c.strokeStyle=Me>128?"black":"white",_>180?c.lineWidth=4:_>80?c.lineWidth=3:_>20?c.lineWidth=2:c.lineWidth=1}c.arc(A,R,_/2,0,Math.PI*2,!0),c.fill(),U&&c.stroke(),c.beginPath(),c.fillStyle=Cn,c.arc(A,R,r,0,Math.PI*2,!0),c.fill()};function Oe(){return o==="mask"?B.mask.toDataURL("image/jpg"):B.drawing.toDataURL("image/jpg")}function lt(c){me.call(this,t,c)}function st(c,y){P[c?"unshift":"push"](()=>{B[y]=c,n(0,B)})}const d=()=>{n(1,D=n(2,T=0)),localStorage.setItem("overCanvas","false")};function oe(c){P[c?"unshift":"push"](()=>{ee=c,n(5,ee)})}function _t(){ue=this.offsetWidth,fe=this.offsetHeight,n(3,ue),n(4,fe)}return t.$$set=c=>{"value"in c&&n(16,s=c.value),"value_img"in c&&n(17,l=c.value_img),"mode"in c&&n(18,o=c.mode),"brush_color"in c&&n(15,i=c.brush_color),"brush_radius"in c&&n(12,_=c.brush_radius),"source"in c&&n(19,u=c.source),"width"in c&&n(13,h=c.width),"height"in c&&n(14,f=c.height),"container_height"in c&&n(20,m=c.container_height),"shape"in c&&n(21,p=c.shape)},t.$$.update=()=>{t.$$.dirty[0]&2121728&&p&&(h||f)&&(n(13,h=p[0]),n(14,f=p[1])),t.$$.dirty[0]&134283264&&x&&!s&&we(),t.$$.dirty[0]&2013945857&&x&&l!==ge&&(n(28,ge=l),we(),setTimeout(()=>{u==="webcam"?(b.temp.save(),b.temp.translate(h,0),b.temp.scale(-1,1),b.temp.drawImage(l,0,0),b.temp.restore()):pe(),b.drawing.drawImage(B.temp,0,0,h,f),Ae({lines:j.slice()}),ae()},50)),t.$$.dirty[0]&4096|t.$$.dirty[1]&1&&F&&(ze(),F.setRadius(_*.05)),t.$$.dirty[0]&24576&&(h||f)&&He(),t.$$.dirty[0]&4096&&(r=_*.075)},[B,D,T,ue,fe,ee,G,je,ie,$e,qe,xe,_,h,f,i,s,l,o,u,m,p,Le,De,Ze,we,Oe,x,ge,b,j,F,lt,st,d,oe,_t]}class ot extends te{constructor(e){super(),ne(this,e,vn,yn,$,{value:16,value_img:17,mode:18,brush_color:15,brush_radius:12,source:19,width:13,height:14,container_height:20,shape:21,redraw:22,clear_mask:23,undo:24,clear:25,get_image_data:26},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[22]}get clear_mask(){return this.$$.ctx[23]}get undo(){return this.$$.ctx[24]}get clear(){return this.$$.ctx[25]}get get_image_data(){return this.$$.ctx[26]}}function Tn(t){let e,n;return e=new ye({props:{Icon:dn,label:"Clear"}}),e.$on("click",t[3]),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},p:Y,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function Bn(t){let e,n,r,a,s,l,o,i,_;n=new ye({props:{Icon:nn,label:"Undo"}}),n.$on("click",t[1]),s=new ye({props:{Icon:sn,label:"Redraw"}}),s.$on("click",t[2]);let u=Tn(t);return i=new ye({props:{Icon:ln,label:"Remove Image"}}),i.$on("click",t[4]),{c(){e=N("div"),E(n.$$.fragment),r=W(),a=N("span"),E(s.$$.fragment),l=W(),u&&u.c(),o=W(),E(i.$$.fragment),g(a,"class","hide_redraw svelte-q8xc61"),g(e,"class","svelte-q8xc61")},m(h,f){S(h,e,f),z(n,e,null),X(e,r),X(e,a),z(s,a,null),X(e,l),u&&u.m(e,null),X(e,o),z(i,e,null),_=!0},p(h,[f]){u.p(h,f)},i(h){_||(w(n.$$.fragment,h),w(s.$$.fragment,h),w(u),w(i.$$.fragment,h),_=!0)},o(h){I(n.$$.fragment,h),I(s.$$.fragment,h),I(u),I(i.$$.fragment,h),_=!1},d(h){h&&M(e),L(n),L(s),u&&u.d(),L(i)}}}function En(t){const e=Ce();return[e,()=>e("undo"),()=>e("redraw"),l=>{e("clear_mask"),l.stopPropagation()},l=>{e("remove_image"),l.stopPropagation()}]}class ut extends te{constructor(e){super(),ne(this,e,En,Bn,$,{})}}function It(t){let e,n,r,a,s;return{c(){e=N("input"),g(e,"aria-label","Brush radius"),g(e,"type","range"),g(e,"min",n=.5*(t[2]/t[6])),g(e,"max",r=75*(t[2]/t[6])),g(e,"class","svelte-p4aq0j")},m(l,o){S(l,e,o),Je(e,t[0]),a||(s=[H(e,"change",t[11]),H(e,"input",t[11])],a=!0)},p(l,o){o&68&&n!==(n=.5*(l[2]/l[6]))&&g(e,"min",n),o&68&&r!==(r=75*(l[2]/l[6]))&&g(e,"max",r),o&1&&Je(e,l[0])},d(l){l&&M(e),a=!1,at(s)}}}function zn(t){let e,n,r,a;n=new ye({props:{Icon:mn,label:"Select brush color"}}),n.$on("click",t[12]);let s=t[5]&&yt(t);return{c(){e=N("span"),E(n.$$.fragment),r=W(),s&&s.c(),g(e,"class","col svelte-p4aq0j")},m(l,o){S(l,e,o),z(n,e,null),X(e,r),s&&s.m(e,null),a=!0},p(l,o){l[5]?s?s.p(l,o):(s=yt(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(l){a||(w(n.$$.fragment,l),a=!0)},o(l){I(n.$$.fragment,l),a=!1},d(l){l&&M(e),L(n),s&&s.d()}}}function yt(t){let e,n,r;return{c(){e=N("input"),g(e,"aria-label","Brush color"),g(e,"type","color"),g(e,"class","svelte-p4aq0j")},m(a,s){S(a,e,s),Je(e,t[1]),n||(r=[H(e,"change",t[13]),H(e,"input",t[14])],n=!0)},p(a,s){s&2&&Je(e,a[1])},d(a){a&&M(e),n=!1,at(r)}}}function Ln(t){let e,n,r,a,s,l;r=new ye({props:{Icon:cn,label:"Use brush"}}),r.$on("click",t[10]);let o=t[4]&&It(t),i=zn(t);return{c(){e=N("div"),n=N("span"),E(r.$$.fragment),a=W(),o&&o.c(),s=W(),i&&i.c(),g(n,"class","brush svelte-p4aq0j"),g(e,"class","wrap svelte-p4aq0j")},m(_,u){S(_,e,u),X(e,n),z(r,n,null),X(n,a),o&&o.m(n,null),X(e,s),i&&i.m(e,null),l=!0},p(_,[u]){_[4]?o?o.p(_,u):(o=It(_),o.c(),o.m(n,null)):o&&(o.d(1),o=null),i.p(_,u)},i(_){l||(w(r.$$.fragment,_),w(i),l=!0)},o(_){I(r.$$.fragment,_),I(i),l=!1},d(_){_&&M(e),L(r),o&&o.d(),i&&i.d()}}}function Rn(t,e,n){let r;const a=Ce();let s=!1,l=!1,{brush_radius:o=20}=e,{container_height:i}=e,{img_width:_}=e,{img_height:u}=e,{mode:h="other"}=e,{brush_color:f="#000"}=e;Pt.subscribe(T=>{n(1,f=T)});const m=()=>n(4,s=!s);function p(){o=Yt(this.value),n(0,o)}const C=()=>n(5,l=!l),se=()=>{h==="mask"&&a("redraw")};function D(){f=this.value,n(1,f)}return t.$$set=T=>{"brush_radius"in T&&n(0,o=T.brush_radius),"container_height"in T&&n(8,i=T.container_height),"img_width"in T&&n(2,_=T.img_width),"img_height"in T&&n(9,u=T.img_height),"mode"in T&&n(3,h=T.mode),"brush_color"in T&&n(1,f=T.brush_color)},t.$$.update=()=>{t.$$.dirty&772&&n(6,r=i*(_/u))},[o,f,_,h,s,l,r,a,i,u,m,p,C,se,D]}class ft extends te{constructor(e){super(),ne(this,e,Rn,Ln,$,{brush_radius:0,container_height:8,img_width:2,img_height:9,mode:3,brush_color:1})}}function Dn(t){let e,n,r,a;return{c(){e=N("img"),O(e.src,n=t[0].image||t[0])||g(e,"src",n),g(e,"alt",""),g(e,"class","svelte-p3y7hu"),q(e,"webcam",t[5]==="webcam"&&t[9]),q(e,"selectable",t[10])},m(s,l){S(s,e,l),r||(a=H(e,"click",t[31]),r=!0)},p(s,l){l[0]&1&&!O(e.src,n=s[0].image||s[0])&&g(e,"src",n),l[0]&544&&q(e,"webcam",s[5]==="webcam"&&s[9]),l[0]&1024&&q(e,"selectable",s[10])},i:Y,o:Y,d(s){s&&M(e),r=!1,a()}}}function qn(t){let e=t[23],n,r,a,s=Ct(t),l=t[18]>0&&At(t);return{c(){s.c(),n=W(),l&&l.c(),r=de()},m(o,i){s.m(o,i),S(o,n,i),l&&l.m(o,i),S(o,r,i),a=!0},p(o,i){i[0]&8388608&&$(e,e=o[23])?(s.d(1),s=Ct(o),s.c(),s.m(n.parentNode,n)):s.p(o,i),o[18]>0?l?(l.p(o,i),i[0]&262144&&w(l,1)):(l=At(o),l.c(),w(l,1),l.m(r.parentNode,r)):l&&(re(),I(l,1,1,()=>{l=null}),le())},i(o){a||(w(l),a=!0)},o(o){I(l),a=!1},d(o){s.d(o),o&&M(n),l&&l.d(o),o&&M(r)}}}function Un(t){let e,n,r,a,s,l,o;return e=new Qe({props:{editable:!0}}),e.$on("edit",t[56]),e.$on("clear",t[26]),{c(){E(e.$$.fragment),n=W(),r=N("img"),O(r.src,a=t[0])||g(r,"src",a),g(r,"alt",""),g(r,"class","svelte-p3y7hu"),q(r,"selectable",t[10]),q(r,"webcam",t[5]==="webcam"&&t[9])},m(i,_){z(e,i,_),S(i,n,_),S(i,r,_),s=!0,l||(o=H(r,"click",t[31]),l=!0)},p(i,_){(!s||_[0]&1&&!O(r.src,a=i[0]))&&g(r,"src",a),(!s||_[0]&1024)&&q(r,"selectable",i[10]),(!s||_[0]&544)&&q(r,"webcam",i[5]==="webcam"&&i[9])},i(i){s||(w(e.$$.fragment,i),s=!0)},o(i){I(e.$$.fragment,i),s=!1},d(i){L(e,i),i&&M(n),i&&M(r),l=!1,o()}}}function Pn(t){let e,n,r,a,s={image:t[0]};return e=new Ut({props:s}),t[54](e),e.$on("crop",t[27]),r=new Qe({}),r.$on("clear",t[55]),{c(){E(e.$$.fragment),n=W(),E(r.$$.fragment)},m(l,o){z(e,l,o),S(l,n,o),z(r,l,o),a=!0},p(l,o){const i={};o[0]&1&&(i.image=l[0]),e.$set(i)},i(l){a||(w(e.$$.fragment,l),w(r.$$.fragment,l),a=!0)},o(l){I(e.$$.fragment,l),I(r.$$.fragment,l),a=!1},d(l){t[54](null),L(e,l),l&&M(n),L(r,l)}}}function Wn(t){let e,n,r=t[5]==="webcam"&&!t[23]&&Mt(t);return{c(){r&&r.c(),e=de()},m(a,s){r&&r.m(a,s),S(a,e,s),n=!0},p(a,s){a[5]==="webcam"&&!a[23]?r?(r.p(a,s),s[0]&8388640&&w(r,1)):(r=Mt(a),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(re(),I(r,1,1,()=>{r=null}),le())},i(a){n||(w(r),n=!0)},o(a){I(r),n=!1},d(a){r&&r.d(a),a&&M(e)}}}function jn(t){let e,n,r,a,s,l,o;e=new ut({}),e.$on("undo",t[45]),e.$on("redraw",t[46]),e.$on("clear",t[29]),e.$on("remove_image",t[29]);let i=t[1]==="color-sketch"&&vt(t);function _(f){t[49](f)}function u(f){t[50](f)}let h={value:t[0],mode:t[13],width:t[18]||t[22],height:t[17]||t[21],container_height:t[19]||t[21],shape:t[6]};return t[2]!==void 0&&(h.brush_radius=t[2]),t[24]!==void 0&&(h.brush_color=t[24]),a=new ot({props:h}),P.push(()=>Z(a,"brush_radius",_)),P.push(()=>Z(a,"brush_color",u)),t[51](a),a.$on("change",t[27]),a.$on("clear",t[29]),{c(){E(e.$$.fragment),n=W(),i&&i.c(),r=W(),E(a.$$.fragment)},m(f,m){z(e,f,m),S(f,n,m),i&&i.m(f,m),S(f,r,m),z(a,f,m),o=!0},p(f,m){f[1]==="color-sketch"?i?(i.p(f,m),m[0]&2&&w(i,1)):(i=vt(f),i.c(),w(i,1),i.m(r.parentNode,r)):i&&(re(),I(i,1,1,()=>{i=null}),le());const p={};m[0]&1&&(p.value=f[0]),m[0]&8192&&(p.mode=f[13]),m[0]&4456448&&(p.width=f[18]||f[22]),m[0]&2228224&&(p.height=f[17]||f[21]),m[0]&2621440&&(p.container_height=f[19]||f[21]),m[0]&64&&(p.shape=f[6]),!s&&m[0]&4&&(s=!0,p.brush_radius=f[2],K(()=>s=!1)),!l&&m[0]&16777216&&(l=!0,p.brush_color=f[24],K(()=>l=!1)),a.$set(p)},i(f){o||(w(e.$$.fragment,f),w(i),w(a.$$.fragment,f),o=!0)},o(f){I(e.$$.fragment,f),I(i),I(a.$$.fragment,f),o=!1},d(f){L(e,f),f&&M(n),i&&i.d(f),f&&M(r),t[51](null),L(a,f)}}}function Hn(t){let e,n,r;function a(l){t[44](l)}let s={filetype:"image/*",include_file_metadata:!1,disable_click:!!t[0],$$slots:{default:[Jn]},$$scope:{ctx:t}};return t[12]!==void 0&&(s.dragging=t[12]),e=new an({props:s}),P.push(()=>Z(e,"dragging",a)),e.$on("load",t[25]),{c(){E(e.$$.fragment)},m(l,o){z(e,l,o),r=!0},p(l,o){const i={};o[0]&1&&(i.disable_click=!!l[0]),o[0]&33550055|o[2]&16&&(i.$$scope={dirty:o,ctx:l}),!n&&o[0]&4096&&(n=!0,i.dragging=l[12],K(()=>n=!1)),e.$set(i)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){I(e.$$.fragment,l),r=!1},d(l){L(e,l)}}}function Ct(t){let e,n,r,a;return{c(){e=N("img"),g(e,"class","absolute-img svelte-p3y7hu"),O(e.src,n=t[23]||t[0]?.image||t[0])||g(e,"src",n),g(e,"alt","load-1"),q(e,"webcam",t[5]==="webcam"&&t[9])},m(s,l){S(s,e,l),t[57](e),r||(a=H(e,"load",t[28]),r=!0)},p(s,l){l[0]&8388609&&!O(e.src,n=s[23]||s[0]?.image||s[0])&&g(e,"src",n),l[0]&544&&q(e,"webcam",s[5]==="webcam"&&s[9])},d(s){s&&M(e),t[57](null),r=!1,a()}}}function At(t){let e,n,r,a,s,l,o,i;function _(m){t[59](m)}function u(m){t[60](m)}let h={value:t[0],mode:t[13],width:t[18]||t[22],height:t[17]||t[21],container_height:t[19]||t[21],value_img:t[20],source:t[5]};t[2]!==void 0&&(h.brush_radius=t[2]),t[24]!==void 0&&(h.brush_color=t[24]),e=new ot({props:h}),t[58](e),P.push(()=>Z(e,"brush_radius",_)),P.push(()=>Z(e,"brush_color",u)),e.$on("change",t[27]),s=new ut({}),s.$on("undo",t[61]),s.$on("redraw",t[62]),s.$on("clear",t[29]),s.$on("remove_image",t[29]);let f=(t[1]==="color-sketch"||t[1]==="sketch")&&St(t);return{c(){E(e.$$.fragment),a=W(),E(s.$$.fragment),l=W(),f&&f.c(),o=de()},m(m,p){z(e,m,p),S(m,a,p),z(s,m,p),S(m,l,p),f&&f.m(m,p),S(m,o,p),i=!0},p(m,p){const C={};p[0]&1&&(C.value=m[0]),p[0]&8192&&(C.mode=m[13]),p[0]&4456448&&(C.width=m[18]||m[22]),p[0]&2228224&&(C.height=m[17]||m[21]),p[0]&2621440&&(C.container_height=m[19]||m[21]),p[0]&1048576&&(C.value_img=m[20]),p[0]&32&&(C.source=m[5]),!n&&p[0]&4&&(n=!0,C.brush_radius=m[2],K(()=>n=!1)),!r&&p[0]&16777216&&(r=!0,C.brush_color=m[24],K(()=>r=!1)),e.$set(C),m[1]==="color-sketch"||m[1]==="sketch"?f?(f.p(m,p),p[0]&2&&w(f,1)):(f=St(m),f.c(),w(f,1),f.m(o.parentNode,o)):f&&(re(),I(f,1,1,()=>{f=null}),le())},i(m){i||(w(e.$$.fragment,m),w(s.$$.fragment,m),w(f),i=!0)},o(m){I(e.$$.fragment,m),I(s.$$.fragment,m),I(f),i=!1},d(m){t[58](null),L(e,m),m&&M(a),L(s,m),m&&M(l),f&&f.d(m),m&&M(o)}}}function St(t){let e,n,r,a;function s(i){t[63](i)}function l(i){t[64](i)}let o={container_height:t[19]||t[21],img_width:t[18]||t[22],img_height:t[17]||t[21],mode:t[13]};return t[2]!==void 0&&(o.brush_radius=t[2]),t[24]!==void 0&&(o.brush_color=t[24]),e=new ft({props:o}),P.push(()=>Z(e,"brush_radius",s)),P.push(()=>Z(e,"brush_color",l)),{c(){E(e.$$.fragment)},m(i,_){z(e,i,_),a=!0},p(i,_){const u={};_[0]&2621440&&(u.container_height=i[19]||i[21]),_[0]&4456448&&(u.img_width=i[18]||i[22]),_[0]&2228224&&(u.img_height=i[17]||i[21]),_[0]&8192&&(u.mode=i[13]),!n&&_[0]&4&&(n=!0,u.brush_radius=i[2],K(()=>n=!1)),!r&&_[0]&16777216&&(r=!0,u.brush_color=i[24],K(()=>r=!1)),e.$set(u)},i(i){a||(w(e.$$.fragment,i),a=!0)},o(i){I(e.$$.fragment,i),a=!1},d(i){L(e,i)}}}function Mt(t){let e,n;return e=new rn({props:{streaming:t[7],pending:t[8],mirror_webcam:t[9]}}),e.$on("capture",t[52]),e.$on("stream",t[27]),e.$on("error",t[53]),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},p(r,a){const s={};a[0]&128&&(s.streaming=r[7]),a[0]&256&&(s.pending=r[8]),a[0]&512&&(s.mirror_webcam=r[9]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function vt(t){let e,n,r,a;function s(i){t[47](i)}function l(i){t[48](i)}let o={container_height:t[19]||t[21],img_width:t[18]||t[22],img_height:t[17]||t[21]};return t[2]!==void 0&&(o.brush_radius=t[2]),t[24]!==void 0&&(o.brush_color=t[24]),e=new ft({props:o}),P.push(()=>Z(e,"brush_radius",s)),P.push(()=>Z(e,"brush_color",l)),e.$on("redraw",function(){Ge(t[14].redraw())&&t[14].redraw().apply(this,arguments)}),{c(){E(e.$$.fragment)},m(i,_){z(e,i,_),a=!0},p(i,_){t=i;const u={};_[0]&2621440&&(u.container_height=t[19]||t[21]),_[0]&4456448&&(u.img_width=t[18]||t[22]),_[0]&2228224&&(u.img_height=t[17]||t[21]),!n&&_[0]&4&&(n=!0,u.brush_radius=t[2],K(()=>n=!1)),!r&&_[0]&16777216&&(r=!0,u.brush_color=t[24],K(()=>r=!1)),e.$set(u)},i(i){a||(w(e.$$.fragment,i),a=!0)},o(i){I(e.$$.fragment,i),a=!1},d(i){L(e,i)}}}function Nn(t){let e,n,r,a;return{c(){e=N("img"),O(e.src,n=t[0].image||t[0])||g(e,"src",n),g(e,"alt","hello"),g(e,"class","svelte-p3y7hu"),q(e,"webcam",t[5]==="webcam"&&t[9]),q(e,"selectable",t[10])},m(s,l){S(s,e,l),r||(a=H(e,"click",t[31]),r=!0)},p(s,l){l[0]&1&&!O(e.src,n=s[0].image||s[0])&&g(e,"src",n),l[0]&544&&q(e,"webcam",s[5]==="webcam"&&s[9]),l[0]&1024&&q(e,"selectable",s[10])},i:Y,o:Y,d(s){s&&M(e),r=!1,a()}}}function Fn(t){let e=t[23],n,r,a,s=Tt(t),l=t[18]>0&&Bt(t);return{c(){s.c(),n=W(),l&&l.c(),r=de()},m(o,i){s.m(o,i),S(o,n,i),l&&l.m(o,i),S(o,r,i),a=!0},p(o,i){i[0]&8388608&&$(e,e=o[23])?(s.d(1),s=Tt(o),s.c(),s.m(n.parentNode,n)):s.p(o,i),o[18]>0?l?(l.p(o,i),i[0]&262144&&w(l,1)):(l=Bt(o),l.c(),w(l,1),l.m(r.parentNode,r)):l&&(re(),I(l,1,1,()=>{l=null}),le())},i(o){a||(w(l),a=!0)},o(o){I(l),a=!1},d(o){s.d(o),o&&M(n),l&&l.d(o),o&&M(r)}}}function Xn(t){let e,n,r,a,s,l,o;return e=new Qe({props:{editable:!0}}),e.$on("edit",t[35]),e.$on("clear",t[26]),{c(){E(e.$$.fragment),n=W(),r=N("img"),O(r.src,a=t[0])||g(r,"src",a),g(r,"alt",""),g(r,"class","svelte-p3y7hu"),q(r,"scale-x-[-1]",t[5]==="webcam"&&t[9]),q(r,"selectable",t[10])},m(i,_){z(e,i,_),S(i,n,_),S(i,r,_),s=!0,l||(o=H(r,"click",t[31]),l=!0)},p(i,_){(!s||_[0]&1&&!O(r.src,a=i[0]))&&g(r,"src",a),(!s||_[0]&544)&&q(r,"scale-x-[-1]",i[5]==="webcam"&&i[9]),(!s||_[0]&1024)&&q(r,"selectable",i[10])},i(i){s||(w(e.$$.fragment,i),s=!0)},o(i){I(e.$$.fragment,i),s=!1},d(i){L(e,i),i&&M(n),i&&M(r),l=!1,o()}}}function Yn(t){let e,n,r,a,s={image:t[0]};return e=new Ut({props:s}),t[33](e),e.$on("crop",t[27]),r=new Qe({}),r.$on("clear",t[34]),{c(){E(e.$$.fragment),n=W(),E(r.$$.fragment)},m(l,o){z(e,l,o),S(l,n,o),z(r,l,o),a=!0},p(l,o){const i={};o[0]&1&&(i.image=l[0]),e.$set(i)},i(l){a||(w(e.$$.fragment,l),w(r.$$.fragment,l),a=!0)},o(l){I(e.$$.fragment,l),I(r.$$.fragment,l),a=!1},d(l){t[33](null),L(e,l),l&&M(n),L(r,l)}}}function On(t){let e;const n=t[32].default,r=Ot(n,t,t[66],null);return{c(){r&&r.c()},m(a,s){r&&r.m(a,s),e=!0},p(a,s){r&&r.p&&(!e||s[2]&16)&&Jt(r,n,a,a[66],e?Gt(n,a[66],s,null):Vt(a[66]),null)},i(a){e||(w(r,a),e=!0)},o(a){I(r,a),e=!1},d(a){r&&r.d(a)}}}function Tt(t){let e,n,r,a;return{c(){e=N("img"),g(e,"class","absolute-img svelte-p3y7hu"),O(e.src,n=t[23]||t[0]?.image||t[0])||g(e,"src",n),g(e,"data-source",t[15]),g(e,"data-isupload",t[16]),g(e,"alt","load-2"),q(e,"webcam",t[5]==="webcam"&&t[9])},m(s,l){S(s,e,l),t[36](e),r||(a=H(e,"load",t[28]),r=!0)},p(s,l){l[0]&8388609&&!O(e.src,n=s[23]||s[0]?.image||s[0])&&g(e,"src",n),l[0]&32768&&g(e,"data-source",s[15]),l[0]&65536&&g(e,"data-isupload",s[16]),l[0]&544&&q(e,"webcam",s[5]==="webcam"&&s[9])},d(s){s&&M(e),t[36](null),r=!1,a()}}}function Bt(t){let e,n,r,a,s,l,o,i;function _(m){t[38](m)}function u(m){t[39](m)}let h={value:t[0],mode:t[13],width:t[18]||t[22],height:t[17]||t[21],container_height:t[19]||t[21],value_img:t[20],source:t[5],shape:t[6]};t[2]!==void 0&&(h.brush_radius=t[2]),t[24]!==void 0&&(h.brush_color=t[24]),e=new ot({props:h}),t[37](e),P.push(()=>Z(e,"brush_radius",_)),P.push(()=>Z(e,"brush_color",u)),e.$on("change",t[27]),e.$on("redraw",function(){Ge(t[14].redraw())&&t[14].redraw().apply(this,arguments)}),s=new ut({}),s.$on("undo",t[40]),s.$on("redraw",t[41]),s.$on("clear_mask",t[30]),s.$on("remove_image",t[29]);let f=(t[1]==="color-sketch"||t[1]==="sketch")&&Et(t);return{c(){E(e.$$.fragment),a=W(),E(s.$$.fragment),l=W(),f&&f.c(),o=de()},m(m,p){z(e,m,p),S(m,a,p),z(s,m,p),S(m,l,p),f&&f.m(m,p),S(m,o,p),i=!0},p(m,p){t=m;const C={};p[0]&1&&(C.value=t[0]),p[0]&8192&&(C.mode=t[13]),p[0]&4456448&&(C.width=t[18]||t[22]),p[0]&2228224&&(C.height=t[17]||t[21]),p[0]&2621440&&(C.container_height=t[19]||t[21]),p[0]&1048576&&(C.value_img=t[20]),p[0]&32&&(C.source=t[5]),p[0]&64&&(C.shape=t[6]),!n&&p[0]&4&&(n=!0,C.brush_radius=t[2],K(()=>n=!1)),!r&&p[0]&16777216&&(r=!0,C.brush_color=t[24],K(()=>r=!1)),e.$set(C),t[1]==="color-sketch"||t[1]==="sketch"?f?(f.p(t,p),p[0]&2&&w(f,1)):(f=Et(t),f.c(),w(f,1),f.m(o.parentNode,o)):f&&(re(),I(f,1,1,()=>{f=null}),le())},i(m){i||(w(e.$$.fragment,m),w(s.$$.fragment,m),w(f),i=!0)},o(m){I(e.$$.fragment,m),I(s.$$.fragment,m),I(f),i=!1},d(m){t[37](null),L(e,m),m&&M(a),L(s,m),m&&M(l),f&&f.d(m),m&&M(o)}}}function Et(t){let e,n,r,a;function s(i){t[42](i)}function l(i){t[43](i)}let o={container_height:t[19]||t[21],img_width:t[18]||t[22],img_height:t[17]||t[21],mode:t[13]};return t[2]!==void 0&&(o.brush_radius=t[2]),t[24]!==void 0&&(o.brush_color=t[24]),e=new ft({props:o}),P.push(()=>Z(e,"brush_radius",s)),P.push(()=>Z(e,"brush_color",l)),e.$on("redraw",function(){Ge(t[14].redraw())&&t[14].redraw().apply(this,arguments)}),{c(){E(e.$$.fragment)},m(i,_){z(e,i,_),a=!0},p(i,_){t=i;const u={};_[0]&2621440&&(u.container_height=t[19]||t[21]),_[0]&4456448&&(u.img_width=t[18]||t[22]),_[0]&2228224&&(u.img_height=t[17]||t[21]),_[0]&8192&&(u.mode=t[13]),!n&&_[0]&4&&(n=!0,u.brush_radius=t[2],K(()=>n=!1)),!r&&_[0]&16777216&&(r=!0,u.brush_color=t[24],K(()=>r=!1)),e.$set(u)},i(i){a||(w(e.$$.fragment,i),a=!0)},o(i){I(e.$$.fragment,i),a=!1},d(i){L(e,i)}}}function Jn(t){let e,n,r,a;const s=[On,Yn,Xn,Fn,Nn],l=[];function o(i,_){return i[0]===null&&!i[23]||i[7]?0:i[1]==="select"?1:i[1]==="editor"?2:(i[1]==="sketch"||i[1]==="color-sketch")&&(i[0]!==null||i[23])?3:4}return e=o(t),n=l[e]=s[e](t),{c(){n.c(),r=de()},m(i,_){l[e].m(i,_),S(i,r,_),a=!0},p(i,_){let u=e;e=o(i),e===u?l[e].p(i,_):(re(),I(l[u],1,1,()=>{l[u]=null}),le(),n=l[e],n?n.p(i,_):(n=l[e]=s[e](i),n.c()),w(n,1),n.m(r.parentNode,r))},i(i){a||(w(n),a=!0)},o(i){I(n),a=!1},d(i){l[e].d(i),i&&M(r)}}}function Vn(t){let e,n,r,a,s,l,o;e=new Dt({props:{show_label:t[4],Icon:t[5]==="canvas"?mt:Ve,label:t[3]||(t[5]==="canvas"?"Sketch":"Image")}});const i=[Hn,jn,Wn,Pn,Un,qn,Dn],_=[];function u(h,f){return h[5]==="upload"?0:h[5]==="canvas"?1:h[0]===null&&!h[23]||h[7]?2:h[1]==="select"?3:h[1]==="editor"?4:(h[1]==="sketch"||h[1]==="color-sketch")&&(h[0]!==null||h[23])?5:6}return a=u(t),s=_[a]=i[a](t),{c(){E(e.$$.fragment),n=W(),r=N("div"),s.c(),g(r,"class","image-container svelte-p3y7hu"),g(r,"data-testid","image"),it(()=>t[65].call(r))},m(h,f){z(e,h,f),S(h,n,f),S(h,r,f),_[a].m(r,null),l=Lt(r,t[65].bind(r)),o=!0},p(h,f){const m={};f[0]&16&&(m.show_label=h[4]),f[0]&32&&(m.Icon=h[5]==="canvas"?mt:Ve),f[0]&40&&(m.label=h[3]||(h[5]==="canvas"?"Sketch":"Image")),e.$set(m);let p=a;a=u(h),a===p?_[a].p(h,f):(re(),I(_[p],1,1,()=>{_[p]=null}),le(),s=_[a],s?s.p(h,f):(s=_[a]=i[a](h),s.c()),w(s,1),s.m(r,null))},i(h){o||(w(e.$$.fragment,h),w(s),o=!0)},o(h){I(e.$$.fragment,h),I(s),o=!1},d(h){L(e,h),h&&M(n),h&&M(r),_[a].d(),l()}}}function Gn(t,e,n){let r,{$$slots:a={},$$scope:s}=e,{value:l}=e,{label:o=void 0}=e,{show_label:i}=e,{source:_="upload"}=e,{tool:u="editor"}=e,{shape:h}=e,{streaming:f=!1}=e,{pending:m=!1}=e,{mirror_webcam:p}=e,{brush_radius:C}=e,{selectable:se=!1}=e,D,T,J="",x=!1;l&&(_==="upload"||_==="webcam")&&u==="sketch"&&(l={image:l,mask:null});function ue({detail:d}){u==="color-sketch"?n(23,G=d):n(0,l=(_==="upload"||_==="webcam")&&u==="sketch"?{image:d,mask:null}:d),n(16,x=!0),localStorage.setItem("resetLines","true"),ie("upload",d)}function fe({detail:d}){n(0,l=null),n(23,G=void 0),ie("clear")}async function ge({detail:d},oe,_t=!1){k==="mask"?_==="webcam"&&oe?n(0,l={image:d,mask:null}):n(0,l={image:typeof l=="string"?l:l?.image||null,mask:d}):(_==="upload"||_==="webcam")&&u==="sketch"?n(0,l={image:d,mask:null}):(J===""&&n(15,J=d),n(0,l=d)),await Ie(),ie(f?"stream":"edit")}const ie=Ce();let B=!1;function b(d){const oe=d.currentTarget;n(18,ce=oe.naturalWidth),n(17,_e=oe.naturalHeight),n(19,he=oe.getBoundingClientRect().height)}async function V(){D.clear(),await Ie(),n(0,l=null),n(23,G=void 0),n(15,J=""),n(16,x=!1)}async function j(){D.clear_mask(),await Ie()}let _e=0,ce=0,he=0,k,F,ee,be,G;Rt(async()=>{u==="color-sketch"&&l&&typeof l=="string"&&(n(23,G=l),await Ie(),b({currentTarget:F}))});const pe=d=>{let oe=qt(d);oe&&ie("select",{index:oe,value:null})};function ze(d){P[d?"unshift":"push"](()=>{T=d,n(11,T),n(0,l)})}const Le=d=>(fe(d),n(1,u="editor")),Re=()=>n(1,u="select");function De(d){P[d?"unshift":"push"](()=>{F=d,n(20,F)})}function Ze(d){P[d?"unshift":"push"](()=>{D=d,n(14,D)})}function Ae(d){C=d,n(2,C)}function Ke(d){r=d,n(24,r),n(13,k),n(5,_),n(1,u)}const $e=()=>D.undo(),qe=()=>D.redraw();function xe(d){C=d,n(2,C)}function Ue(d){r=d,n(24,r),n(13,k),n(5,_),n(1,u)}function Pe(d){B=d,n(12,B)}const We=()=>D.undo(),je=()=>D.redraw();function He(d){C=d,n(2,C)}function ke(d){r=d,n(24,r),n(13,k),n(5,_),n(1,u)}function Ne(d){C=d,n(2,C)}function et(d){r=d,n(24,r),n(13,k),n(5,_),n(1,u)}function Fe(d){P[d?"unshift":"push"](()=>{D=d,n(14,D)})}const ve=d=>u==="color-sketch"?ue(d):ge(d,!0,"pizda");function Xe(d){me.call(this,t,d)}function tt(d){P[d?"unshift":"push"](()=>{T=d,n(11,T),n(0,l)})}const Ye=d=>(fe(d),n(1,u="editor")),Se=()=>n(1,u="select");function ae(d){P[d?"unshift":"push"](()=>{F=d,n(20,F)})}function we(d){P[d?"unshift":"push"](()=>{D=d,n(14,D)})}function Te(d){C=d,n(2,C)}function nt(d){r=d,n(24,r),n(13,k),n(5,_),n(1,u)}const Be=()=>D.undo(),rt=()=>D.redraw();function Oe(d){C=d,n(2,C)}function lt(d){r=d,n(24,r),n(13,k),n(5,_),n(1,u)}function st(){ee=this.offsetHeight,be=this.offsetWidth,n(21,ee),n(22,be)}return t.$$set=d=>{"value"in d&&n(0,l=d.value),"label"in d&&n(3,o=d.label),"show_label"in d&&n(4,i=d.show_label),"source"in d&&n(5,_=d.source),"tool"in d&&n(1,u=d.tool),"shape"in d&&n(6,h=d.shape),"streaming"in d&&n(7,f=d.streaming),"pending"in d&&n(8,m=d.pending),"mirror_webcam"in d&&n(9,p=d.mirror_webcam),"brush_radius"in d&&n(2,C=d.brush_radius),"selectable"in d&&n(10,se=d.selectable),"$$scope"in d&&n(66,s=d.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1&&ie("change",l),t.$$.dirty[0]&4096&&ie("drag",B),t.$$.dirty[0]&34&&(_==="canvas"&&u==="sketch"?n(13,k="bw-sketch"):u==="color-sketch"?n(13,k="color-sketch"):(_==="upload"||_==="webcam")&&u==="sketch"?n(13,k="mask"):n(13,k="editor")),t.$$.dirty[0]&8192&&n(24,r=k=="mask"?"#000000":"#000"),t.$$.dirty[0]&1&&(l===null||l.image===null&&l.mask===null)&&n(23,G=void 0),t.$$.dirty[0]&2049&&T&&(l?(n(11,T.image=l,T),T.create()):T.destroy())},[l,u,C,o,i,_,h,f,m,p,se,T,B,k,D,J,x,_e,ce,he,F,ee,be,G,r,ue,fe,ge,b,V,j,pe,a,ze,Le,Re,De,Ze,Ae,Ke,$e,qe,xe,Ue,Pe,We,je,He,ke,Ne,et,Fe,ve,Xe,tt,Ye,Se,ae,we,Te,nt,Be,rt,Oe,lt,st,s]}let Qn=class extends te{constructor(e){super(),ne(this,e,Gn,Vn,$,{value:0,label:3,show_label:4,source:5,tool:1,shape:6,streaming:7,pending:8,mirror_webcam:9,brush_radius:2,selectable:10},null,[-1,-1,-1])}};function Zn(t){let e,n,r,a,s,l,o,i,_;return r=new ye({props:{Icon:un,label:"Download"}}),{c(){e=N("div"),n=N("a"),E(r.$$.fragment),a=W(),s=N("img"),g(n,"href",t[0]),g(n,"target",window.__is_colab__?"_blank":null),g(n,"download","image"),g(e,"class","download svelte-ms5bsk"),O(s.src,l=t[0])||g(s,"src",l),g(s,"alt",""),g(s,"class","svelte-ms5bsk"),q(s,"selectable",t[3])},m(u,h){S(u,e,h),X(e,n),z(r,n,null),S(u,a,h),S(u,s,h),o=!0,i||(_=H(s,"click",t[4]),i=!0)},p(u,h){(!o||h&1)&&g(n,"href",u[0]),(!o||h&1&&!O(s.src,l=u[0]))&&g(s,"src",l),(!o||h&8)&&q(s,"selectable",u[3])},i(u){o||(w(r.$$.fragment,u),o=!0)},o(u){I(r.$$.fragment,u),o=!1},d(u){u&&M(e),L(r),u&&M(a),u&&M(s),i=!1,_()}}}function Kn(t){let e,n;return e=new on({props:{size:"large",unpadded_box:!0,$$slots:{default:[$n]},$$scope:{ctx:t}}}),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},p(r,a){const s={};a&64&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function $n(t){let e,n;return e=new Ve({}),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function xn(t){let e,n,r,a,s,l;e=new Dt({props:{show_label:t[2],Icon:Ve,label:t[1]||"Image"}});const o=[Kn,Zn],i=[];function _(u,h){return u[0]===null?0:1}return r=_(t),a=i[r]=o[r](t),{c(){E(e.$$.fragment),n=W(),a.c(),s=de()},m(u,h){z(e,u,h),S(u,n,h),i[r].m(u,h),S(u,s,h),l=!0},p(u,[h]){const f={};h&4&&(f.show_label=u[2]),h&2&&(f.label=u[1]||"Image"),e.$set(f);let m=r;r=_(u),r===m?i[r].p(u,h):(re(),I(i[m],1,1,()=>{i[m]=null}),le(),a=i[r],a?a.p(u,h):(a=i[r]=o[r](u),a.c()),w(a,1),a.m(s.parentNode,s))},i(u){l||(w(e.$$.fragment,u),w(a),l=!0)},o(u){I(e.$$.fragment,u),I(a),l=!1},d(u){L(e,u),u&&M(n),i[r].d(u),u&&M(s)}}}function er(t,e,n){let{value:r}=e,{label:a=void 0}=e,{show_label:s}=e,{selectable:l=!1}=e;const o=Ce(),i=_=>{let u=qt(_);u&&o("select",{index:u,value:null})};return t.$$set=_=>{"value"in _&&n(0,r=_.value),"label"in _&&n(1,a=_.label),"show_label"in _&&n(2,s=_.show_label),"selectable"in _&&n(3,l=_.selectable)},t.$$.update=()=>{t.$$.dirty&1&&r&&o("change",r)},[r,a,s,l,i]}class tr extends te{constructor(e){super(),ne(this,e,er,xn,$,{value:0,label:1,show_label:2,selectable:3})}}function nr(t){let e,n,r;function a(l){t[19](l)}let s={brush_radius:t[14],shape:t[13],source:t[5],tool:t[6],selectable:t[15],label:t[7],show_label:t[8],pending:t[10],streaming:t[9],mirror_webcam:t[12],$$slots:{default:[lr]},$$scope:{ctx:t}};return t[0]!==void 0&&(s.value=t[0]),e=new Qn({props:s}),P.push(()=>Z(e,"value",a)),e.$on("edit",t[20]),e.$on("clear",t[21]),e.$on("change",t[22]),e.$on("stream",t[23]),e.$on("drag",t[24]),e.$on("upload",t[25]),e.$on("select",t[26]),e.$on("error",t[27]),{c(){E(e.$$.fragment)},m(l,o){z(e,l,o),r=!0},p(l,o){const i={};o&16384&&(i.brush_radius=l[14]),o&8192&&(i.shape=l[13]),o&32&&(i.source=l[5]),o&64&&(i.tool=l[6]),o&32768&&(i.selectable=l[15]),o&128&&(i.label=l[7]),o&256&&(i.show_label=l[8]),o&1024&&(i.pending=l[10]),o&512&&(i.streaming=l[9]),o&4096&&(i.mirror_webcam=l[12]),o&536870912&&(i.$$scope={dirty:o,ctx:l}),!n&&o&1&&(n=!0,i.value=l[0],K(()=>n=!1)),e.$set(i)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){I(e.$$.fragment,l),r=!1},d(l){L(e,l)}}}function rr(t){let e,n;return e=new tr({props:{value:t[0],label:t[7],show_label:t[8],selectable:t[15]}}),e.$on("select",t[18]),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},p(r,a){const s={};a&1&&(s.value=r[0]),a&128&&(s.label=r[7]),a&256&&(s.show_label=r[8]),a&32768&&(s.selectable=r[15]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function lr(t){let e,n;return e=new fn({props:{type:"image"}}),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},p:Y,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}function sr(t){let e,n,r,a,s,l;const o=[t[1]];let i={};for(let f=0;f<o.length;f+=1)i=Qt(i,o[f]);e=new Zt({props:i});const _=[rr,nr],u=[];function h(f,m){return f[16]==="static"?0:1}return r=h(t),a=u[r]=_[r](t),{c(){E(e.$$.fragment),n=W(),a.c(),s=de()},m(f,m){z(e,f,m),S(f,n,m),u[r].m(f,m),S(f,s,m),l=!0},p(f,m){const p=m&2?Kt(o,[$t(f[1])]):{};e.$set(p);let C=r;r=h(f),r===C?u[r].p(f,m):(re(),I(u[C],1,1,()=>{u[C]=null}),le(),a=u[r],a?a.p(f,m):(a=u[r]=_[r](f),a.c()),w(a,1),a.m(s.parentNode,s))},i(f){l||(w(e.$$.fragment,f),w(a),l=!0)},o(f){I(e.$$.fragment,f),I(a),l=!1},d(f){L(e,f),f&&M(n),u[r].d(f),f&&M(s)}}}function ir(t){let e,n;return e=new xt({props:{visible:t[4],variant:t[16]==="dynamic"&&t[0]===null&&t[5]==="upload"?"dashed":"solid",border_mode:t[17]?"focus":"base",padding:!1,elem_id:t[2],elem_classes:t[3],style:{height:t[11].height||(t[5]==="webcam"||t[16]==="static"?void 0:zt),width:t[11].width},allow_overflow:!1,$$slots:{default:[sr]},$$scope:{ctx:t}}}),{c(){E(e.$$.fragment)},m(r,a){z(e,r,a),n=!0},p(r,[a]){const s={};a&16&&(s.visible=r[4]),a&65569&&(s.variant=r[16]==="dynamic"&&r[0]===null&&r[5]==="upload"?"dashed":"solid"),a&131072&&(s.border_mode=r[17]?"focus":"base"),a&4&&(s.elem_id=r[2]),a&8&&(s.elem_classes=r[3]),a&67616&&(s.style={height:r[11].height||(r[5]==="webcam"||r[16]==="static"?void 0:zt),width:r[11].width}),a&537130979&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){I(e.$$.fragment,r),n=!1},d(r){L(e,r)}}}const zt=240;function ar(t,e,n){let{elem_id:r=""}=e,{elem_classes:a=[]}=e,{visible:s=!0}=e,{value:l=null}=e,{source:o="upload"}=e,{tool:i="editor"}=e,{label:_}=e,{show_label:u}=e,{streaming:h}=e,{pending:f}=e,{style:m={}}=e,{mirror_webcam:p}=e,{shape:C}=e,{brush_radius:se}=e,{selectable:D=!1}=e,{loading_status:T}=e,{mode:J}=e;const x=Ce();let ue;function fe(k){me.call(this,t,k)}function ge(k){l=k,n(0,l)}function ie(k){me.call(this,t,k)}function B(k){me.call(this,t,k)}function b(k){me.call(this,t,k)}function V(k){me.call(this,t,k)}const j=({detail:k})=>n(17,ue=k);function _e(k){me.call(this,t,k)}function ce(k){me.call(this,t,k)}const he=({detail:k})=>{n(1,T=T||{}),n(1,T.status="error",T),n(1,T.message=k,T)};return t.$$set=k=>{"elem_id"in k&&n(2,r=k.elem_id),"elem_classes"in k&&n(3,a=k.elem_classes),"visible"in k&&n(4,s=k.visible),"value"in k&&n(0,l=k.value),"source"in k&&n(5,o=k.source),"tool"in k&&n(6,i=k.tool),"label"in k&&n(7,_=k.label),"show_label"in k&&n(8,u=k.show_label),"streaming"in k&&n(9,h=k.streaming),"pending"in k&&n(10,f=k.pending),"style"in k&&n(11,m=k.style),"mirror_webcam"in k&&n(12,p=k.mirror_webcam),"shape"in k&&n(13,C=k.shape),"brush_radius"in k&&n(14,se=k.brush_radius),"selectable"in k&&n(15,D=k.selectable),"loading_status"in k&&n(1,T=k.loading_status),"mode"in k&&n(16,J=k.mode)},t.$$.update=()=>{t.$$.dirty&1&&n(0,l=l||null),t.$$.dirty&1&&x("change")},[l,T,r,a,s,o,i,_,u,h,f,m,p,C,se,D,J,ue,fe,ge,ie,B,b,V,j,_e,ce,he]}class or extends te{constructor(e){super(),ne(this,e,ar,ir,$,{elem_id:2,elem_classes:3,visible:4,value:0,source:5,tool:6,label:7,show_label:8,streaming:9,pending:10,style:11,mirror_webcam:12,shape:13,brush_radius:14,selectable:15,loading_status:1,mode:16})}}const Sr=or,Mr=["static","dynamic"],vr=t=>({type:{payload:"string"},description:{payload:"image data as base64 string"},example_data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="});export{Sr as Component,Er as ExampleComponent,vr as document,Mr as modes};
//# sourceMappingURL=index-76b6697c.js.map
